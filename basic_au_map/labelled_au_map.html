<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <title>Australia</title>
    <script type="text/javascript" src="../lib/d3.v310.js"></script>
    <style type="text/css">

#states path {
  stroke: #fff;
}

    </style>
  </head>
  <body>
  <h1>Australian Map with Labels</h1>
<script type="text/javascript">

var width = 960,
    height = 500;

var projection = d3.geo.mercator();
projection.center([135, -26]);
//    .origin([135, -26])
//		.translate([250,180])
//    .scale(700);

var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var states = svg.append("g")
    .attr("id", "states");

d3.json("../data/au-states.geojson", function(error, data) {
	// 0 is NSW... let's start with something
	var bounding_box = path.bounds(data.features[0]);
	console.log("data.features", data.features);
	console.log("bounding box", bounding_box);
	var scale = 0.95 / Math.max((bounding_box[1][0] - bounding_box[0][0]) / width, (bounding_box[1][1] - bounding_box[0][1]) / height);
	console.log("scale", scale);
	var translation_factor = [(width - scale * (bounding_box[1][0] + bounding_box[0][0])) / 2, (height - scale * (bounding_box[1][1] + bounding_box[0][1])) / 2];
	console.log("translation_factor", translation_factor);
	//projection.scale(scale).translate(translation_factor);
	//projection.scale(5);


  states.selectAll("path")
      .data(data.features)
    .enter().append("path")
      .attr("d", path);
});
</script>
Testing labelling
</body>
</html>
